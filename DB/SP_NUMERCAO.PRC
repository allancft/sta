CREATE PROCEDURE SP_NUMERACAO

AS

DECLARE @CONTADOR1 AS INTEGER
DECLARE @CONTADOR2 AS INTEGER

SELECT @CONTADOR1 = ISNULL(MAX(ANUM_SEQU_REGISTRO), 0) + 1 FROM  TREGISTRO_TRANSMISSAO

SELECT @CONTADOR2 = ISNULL(MAX(ANUM_SEQU_REGISTRO_INTERNO), 0) + 1 FROM  TREGISTRO_TRANS_INTERNO

SELECT 'CODIGO' = CASE
            WHEN @CONTADOR1 > @CONTADOR2 THEN @CONTADOR1
            WHEN @CONTADOR1 <= @CONTADOR2 THEN @CONTADOR2
      END



GO